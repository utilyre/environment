set mouse true
set ratios 1:1
# set drawbox true
set scrolloff 5
set dircounts true
set dirfirst false
set incsearch true
set previewer lf-preview

setlocal ~/Downloads sortby time
setlocal ~/Downloads reverse true

map <space> toggle
map x delete
map a push :create<space>
map F filter
map R bulk-rename

cmd create %{{
	set -e

	file="$(realpath -m -- "$*")"
	if [ "$(printf '%s' "$*" | tail -c1)" = / ]; then
		mkdir -p -- "$file"
	else
		mkdir -p -- "$(dirname -- "$file")"
		touch -- "$file"
	fi
}}

cmd bulk-rename !{{
	set -e

	printf '%s\n' "$fx" | vidir -v -
	lf -remote "send $id unselect"
}}
