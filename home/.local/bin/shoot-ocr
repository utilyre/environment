#!/bin/sh

sel="$(slurp -d)" || exit 1
tmp="$(mktemp)"

grim -g "$sel" -- "$tmp"
content="$(zbarimg -- "$tmp")" || content="$(tesseract "$tmp" -)"

rm -- "$tmp"
printf %s "$content" | wl-copy
