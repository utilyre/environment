#!/bin/sh

prev_focus="$(swaymsg -t get_seats | jq '.[0].focus')"
swaymsg -mt subscribe '["window"]' |
	jq --unbuffered 'select(.change == "focus").container.id' |
	while read -r new_focus; do
		swaymsg "[con_id=$prev_focus] mark --add LRU"
		prev_focus="$new_focus"
	done
